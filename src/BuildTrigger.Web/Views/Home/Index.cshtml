@model List<BuildViewModel>
    
@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function(){
            $('button.build-trigger').click(function(){
                $.get("/Home/TriggerBuild", { buildId: $(this).attr('buildId') }, function(data){ 
                    console.log(data);
                    if (data != "OK")
                    {
                        alert("Something went wrong");
                        return;
                    }
                    alert("Build has been triggered.");
                });
            });
        });
    </script>
}

<div class="row">
    <div class="col-md-12">
        <h2>Builds</h2>
    </div>
</div>

@for(var i = 0; i < Model.Count; i++)
{
    <div class="row"> 
        <div class="col-md-12">
            <button class="btn btn-primary build-trigger" buildId="@Model[i].Id">@Model[i].Name</button>
        </div>
        <hr/>
    </div>
}